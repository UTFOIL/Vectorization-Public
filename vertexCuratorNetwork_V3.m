function [Y,Xf,Af] = vertexCuratorNetwork_V3(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 06-Dec-2019 13:17:11.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx13 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx1 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [2 3 4 5 6 7 8 9 10 11 12 13];
x1_step2.xoffset = [1.44337496687445;-245.250395059257;-423.179663909924;-138.624422820363;-76.0463055918059;-70.7560975999156;-9.312101064071;-46.3952362153244;-21.3972103595238;-17.7621566707117;-200.944620722249;-0.318197441418719];
x1_step2.gain = [0.0520842336562136;0.00465228495293054;0.00124101125137967;0.00796616069764383;0.0210252844979174;0.022000621919619;0.124423101112194;0.0158235108913779;0.0514398910404824;0.0539949293918485;0.00995332080378152;5.51374256161737];
x1_step2.ymin = -1;

% Layer 1
b1 = [-2.0614624897532340952;-2.0127047547563052809;-1.971797975527991964;-1.9620621104706432725;1.9011689145092778297;1.8494200360165353736;1.7904273897233842217;-2.1277350463218538401;1.7246814692809850911;-1.6612046819520349672;1.7162806044549565598;-1.5760614279684415084;1.5357373234639373205;1.5461426036184171551;2.6315202199216889412;-1.48418033545241701;1.4015180429700382359;1.4126802059710221737;-1.3038870013835865969;-1.845365027472406716;-1.3035010600160945593;-1.2005246340145991901;1.1345196461047217795;-1.0893090647085059697;-1.0574607672298783623;0.98084946933233785327;-1.1718909705993851844;0.95372710983805930596;0.90855570869474533424;-0.86803399524037250234;-0.66320626144450145478;-0.77988926663409163798;0.77145058243999253822;-0.66212725538612549059;0.7369694564842101947;1.1675112204711426411;-0.23111936001003932639;0.50722395680955234543;-0.6489906369973061917;0.22246891030524978961;-0.40439918613267716863;0.31689688461810111564;-0.30143624640608956966;0.18376757091365600316;-0.14863165599617070289;-0.14231224086599750245;-0.022121209258350330029;0.059934456756620499429;0.02867682239409014705;-1.2014073442605743836;-0.074932951579491591243;0.090485354234788997752;0.9871212947033288776;0.21235931171031166564;-0.10404426494622429078;-1.4248915587389208159;-0.25554844103612844863;0.21260012969944783179;0.30725610662510410842;0.14994169678022775671;0.41948781798795814479;1.7443415544436891018;0.10177646037268464618;0.1730722099347616616;-0.63556487720504095673;-1.8142765222683792103;0.46495663904678175005;-1.3883962930106130695;2.3695593609410980918;-1.1150835650018546819;-0.75573003277181050041;-0.89193289035637224327;-1.181434024742072264;0.81909675867210418598;1.6802582478714394032;1.1082937664573520031;-1.0648091197761682114;1.2892882322800827133;1.366587702598427212;-1.5071183196545974159;1.2869270784797350871;-1.0091338540586110017;-1.4383484998862110515;-1.493265963167413668;-1.4226105568124134404;-1.7480407016533623388;-1.4652989968472185378;-1.6526942640383825989;-1.5038860211052798022;1.6541831356679439491;1.6402521865562311731;-1.7342577844831110756;-1.7724290311513823948;-1.6900910033103897501;1.8488660718692633278;-1.8904784636134943643;-2.6267712006816212877;1.9688953045158399391;-1.9606323915630663457;-2.1404271414399578255];
IW1_1 = [0.4212590022082920993 -0.20168043572866686808 0.62235338232762649202 0.35260194714450920905 -0.72832163433987651135 -0.22934497056660588243 0.78237968157687742821 0.58084641824620641959 0.22918835026837425239 0.05240510149910266452 -0.96027846276350814492 0.99704545275994316267;0.71289202538467200121 -0.73617206859467776425 -0.73258735184591117218 -0.56478744039731787474 -0.28942579424561859502 0.49146190155818753054 -0.41966118010660918847 0.73896546782717997814 -0.8037968129129806627 -0.31781254591923846498 -0.71708358461687993213 0.090291243241739205239;1.2117095266706376933 -0.97041612818173472732 -0.62840008586083806463 -0.34605204687809709707 0.28409939079668905526 -0.2713263755225316376 -0.77133738664798068285 0.088559188197191107683 -0.48544137658162006543 0.12270358881262731499 0.3063486046751131564 -0.44722080128600871785;0.048330896615878991829 1.0168408356391629432 -0.35464101404660341998 -0.098526226099789782076 -0.58126927877400313971 0.78246802654638281105 -0.04722346421144033024 -0.86189455839465889397 0.60520257378035946516 -0.225140253624174419 0.90305166777370327047 0.33262231857651070044;-0.77711386036537810629 0.97047022180065578567 0.37601078218676525777 1.0250604567102352682 0.50849128128003140414 0.54262499534495667319 0.29541164630583033324 0.68863763438356506708 0.41513470887917003349 -0.18049723180609389406 -0.30591255310638587606 -0.28596660920557520624;-0.79878173078145486841 0.17023025002463842981 -0.83201985937860489795 -0.78590422627149358892 -0.58885463268113680257 -0.28135033838393547212 -0.18443521568846593661 -0.36869424660140454053 -0.85540558209837758152 -0.72847505151672486967 -0.20341852722032369161 0.58068887113374523246;-0.43227724649767362841 -0.80865628575366854669 0.4130732052836766921 0.65084659169451253291 0.76349448440488731915 -0.52444026490370843074 -0.53881169102894643785 -0.37606868143856303499 -0.68146973157809787036 -0.45082391593926840478 0.88555413733201704396 -0.17068760328389817604;0.27893332827123329398 -0.41443596197634907652 -0.54367711647237448869 0.18115916063555975724 0.22113906398159274835 1.2376078884200756303 0.61202735246214257092 0.41797175325061858286 -0.57496657416818952591 -0.89047449497117892037 1.3644082346590526988 -0.0098428745345052817695;-0.44459248911604581922 -0.26469434568119504236 0.27643059498380678773 -0.22288642667464048097 0.47959796962909656548 0.8108995171139375957 -0.75313985725368726154 -0.88332850217643155144 -0.8873038580020835564 0.7638285819009159594 0.32009413419266291578 0.35202185281907416581;0.49512941466248716615 0.60190976966968756656 -0.022316840073871444666 -0.56656815514476066564 -0.47078451761303496959 -0.21171188192919276894 -0.64923195888932305753 -0.82778611020351389183 -0.10942405478305125555 0.26720952861935193257 1.0449208229068085441 0.88874604010841751212;-0.58851024617394109839 -1.0343632719474291637 0.56243452650913416946 -0.14038816234870565847 -0.44722341533771414746 0.36196452224915615092 -0.79225039532412788734 0.33925688623448368997 0.31816013757279171248 0.89264672987760984579 0.55085083308263560475 -0.32068144230476830492;0.84594105946829689646 -0.91918695797310578932 0.42345243416125211144 -0.033963089668895871109 -0.81672975732530250781 -0.11689263104638261681 -0.67474066265824717004 0.20395504616434564915 0.45129299573207437568 -0.68224899906820102302 -0.3171716989143528731 0.70080537243797536018;-0.31498275152578442126 -0.74315886246129414516 0.9165274379164383145 -0.85286718236241265689 0.16726577043984747206 0.7485620327358550874 0.26385059684626371856 0.063073989030519014842 0.072603168543996135509 0.95370550599312542417 0.35192151747148303631 0.51265427006656449915;-0.65077537174496880024 0.31498421933959108721 0.8104719426203104149 0.19085335789409690888 0.39524656591284018647 0.57337412540583609921 0.17332523662001225739 0.47904704431386729846 -0.8210685080939582603 0.61693834669927849479 -0.51595968416654147681 0.94689274111894650154;-0.30466615282568687562 0.59325122998389490103 -0.94703815912047628611 -0.29581464826584519257 -0.20562691697587714978 -1.1786339910533523145 -1.7139122066044329973 0.28302230181984205926 0.12883339057343529133 0.14605178447112812656 -1.3235793948914558182 -1.052122906131373492;0.32183415447809810006 0.36255498449657658222 0.51862338703091726 -0.29338208350681560521 -0.20938754145208096635 0.874293263374511187 1.0497305043687057413 0.70948666975092578024 -0.92871835967087024155 -0.14588352019004435789 0.396952474222522389 -0.36303742303903158151;-0.076652484547583499275 -0.12175521821838189429 -0.7589198324101631421 0.20772572573621247982 0.3637401114987073858 1.2242164290073596078 0.57115972079519694571 -0.53051884054686881953 -0.91036859865616281962 -0.60354553198532900904 0.075763715786031915478 0.4154057959848158621;-0.39521847067592996705 0.11800058680427732982 -1.1826467991866456142 -0.60139077085542369527 0.35478991687710220715 0.020167859481625433765 0.54283354520955029443 0.45716205574469392925 -0.97564296060178068437 0.59789601621036714274 -0.25166790430785190846 -0.48038074860484270001;0.70955047340311094839 -0.43809382319280654183 0.5231413636148394275 -0.45017857366443975176 0.38351884639191341497 0.82466343688467380613 -0.94374730224070191298 0.1215415704599642488 -0.77215997560443039305 -0.58524167812243033104 0.21510879533431753741 -0.57273079305043961273;0.14786499388176405079 0.72190178709519270406 0.27148707321511211799 0.22370939257610347739 0.77371456571338548258 0.72927241715652746379 0.54578377633857300122 -0.22343213317693633169 -0.73278486394911956925 -1.1886930902720622694 0.75056513770064814395 0.45256044456406707699;-0.052252392728928225007 -0.61789403865446501651 -0.0024695907022140900673 -0.51465099615026455027 1.058866707716803246 -0.51175499201493057644 0.85397719042362929542 -0.88517451835545124528 -0.56144669148881332088 0.50857383571717584836 0.33372458457711262625 0.39883712506282215093;0.85058380787758169905 0.37557007447376372644 0.82466041220859587213 0.64996378061234216794 -0.59046269337661549947 -0.6074347756873305082 0.97864710291719569923 0.56758769429144306784 -0.36658600402552848907 0.34412079274341472734 0.10167545640419634045 0.17517367060534436152;-0.51350999174597200536 -0.76980632432046147695 0.27036761253261532012 1.1747330868227678913 0.50990132100352325573 -0.2260669015053514419 0.87349637463116680536 -0.39476034309131041722 -0.44718182806818634889 0.52616202249378385414 0.20170771239216125914 0.38015138378797769247;0.63739433965614289423 -0.32738101650566692191 0.28758367830182657299 0.57543458937174718493 -0.65253335959059244331 0.62483098665671976679 0.71499148002910084543 0.26746676460060342384 -0.70394445053121601497 0.35356819387060645088 0.037840272877984526545 -1.1333321015298714052;0.57892007870287309768 0.28722019499769352313 0.82084811194065965267 -0.35663789942618345785 -0.86927050999149135802 0.74445941371272872367 0.030202801710283219 0.55105474725916925305 -0.56893795979802819218 -0.18508926602824229968 -0.95355822328432449098 -0.3446313206789790029;-0.25382814518166640916 0.65369109815438497524 0.73440644093761808797 0.19198223759928889631 0.23911362466373775604 0.67045791947954735956 -0.75389655234422048302 -0.92139554393529943255 0.92572779958525541755 -0.25648842201863342183 0.49911352882784559837 -0.13799733299296421118;0.37659920029097398997 -0.89907469870910916576 0.25224476010994745234 -0.8320535586113312343 -0.26342572617229276233 -0.53398223879514949974 -0.35355576862654947146 -0.72000709820445107923 0.39473332936293242801 0.67579559484635287614 0.68744710534491981768 -0.67527282037488878252;-0.92834084471892985846 0.94564340796937584877 -0.70828956605278614589 0.90085681660772543022 -0.088953942739718294686 0.075739691347222817819 -0.80280385413873878164 0.108752291844545948 0.12208334198349446442 -0.40132499337324517574 -0.31771379920441916722 0.45137855131538756615;-0.77297540498796946107 0.47288887867252304975 -0.45123726752632187242 0.6520419602298573869 0.28310449339811760705 -0.69475773446984412374 -0.79612527152903900252 -0.027267364720955034052 -0.5369895761428938874 0.53482589704872907088 0.8174010722415493424 0.61015129621819941264;0.070010202938072113588 -0.027235534643169415775 0.78053246038812373886 0.6316456853287516493 0.53619304375146614738 -0.77788517635083676005 0.87634847929024617397 0.78229082167505603618 -0.57342315428755630258 0.57563197775877805729 -0.31101872442017364229 -0.4418130075851711136;0.48268142813571790484 -0.12850881496685237493 -0.96572218182762814553 -0.4346950752249210681 -0.34576798199656155752 -0.76969383429864390855 -0.39712897559628212996 0.56549900881443071476 -0.86005940236371858365 0.71176985325304908958 0.70570701508656674683 0.52339141583921089396;1.1129961347465999744 -0.15136375999998002984 -0.018715227126300741645 0.22892370279561130575 0.385667458829212495 0.42953161099291359282 -0.47667994015160369825 0.60839114397679472379 1.0463808886702639089 0.01411640215609392783 -0.119712155420656996 -0.92656173419930576429;-0.7939075833574056329 -0.42195827191881757345 -0.73174081535660129294 -1.0135177911175532461 -0.1744594623856572102 -0.0062348968764708960488 -0.32545970571950438854 -0.95497972186586754795 0.43291293519857332317 0.27965403982945385986 -0.16520154449706553335 0.69813214883361507379;0.11797992951201054235 0.016476524375484805779 0.94667654849760984881 -0.14812402023662779582 0.68372838832776239304 -0.62453558322193658547 -0.056324263585927993037 -0.86101160506041962694 0.11427398995671456117 0.9083689561483190289 -0.55813975041843000291 -0.69936695638103929529;-0.23471798865089144037 0.046227558663188991761 0.53476210581381189435 -0.50422006020687848427 1.0203603559857303829 0.10091080657828169209 0.57453392854691298641 -1.1638115325255171673 -0.48936794651954823587 -0.15442913225898111107 -0.72391711789250934306 0.29945628676046576189;-0.91835081209003832647 0.46052657941356361926 -0.22642440632954211055 -0.5802483617296959606 -1.2967274880648602675 -1.6365244005500947377 -0.61211190634503287455 0.55514520656868726611 -0.91345172345079617138 -0.78763571472102922311 -0.98963987477562431749 0.40579566802031763473;-0.036899932525175857534 0.58126350385054181835 0.3213808384283429187 -0.78873540690171450862 0.31247605074322731822 -0.74139381739884169242 0.74117462592785010589 1.0425087605103324773 0.36014720769242858367 0.82698637751695647236 0.52402302759510177577 0.24687821764250633683;-0.74759874094386113974 0.32268733857912601515 -0.98318988381945582322 -0.17443609167836438001 0.17972408821781027388 0.78352590903329599747 0.13262349853752675166 0.41561432913500206965 1.0968229650433103384 0.29574480909867906231 0.62818536478331388206 -0.0018332082168304288453;0.82059492177935833279 -0.30825990283472348708 0.51979690994240246305 -0.99855638025005388769 0.030819918020904515932 0.086953497290252770857 0.76061761855555987122 -0.84205616173638586641 -0.78866876882278580396 -0.33466341149591621873 0.29654221684977172258 -0.061192184681100263155;0.068862611365282530573 0.43364530557911318276 -0.67788892752280316412 0.15220666269590577002 0.11413443404909770496 0.19509608464597655297 -0.11633658664820005491 0.51344162652061109409 -0.53578724900576624179 0.91806833214311289737 -1.3694362400329347373 0.55833750117300140481;0.072830753895362615458 0.11446699253968156684 -1.075729975898181312 -0.07555178861374960142 -0.51102733613974571369 0.58370897630453233429 -0.36105030476162663922 -1.0112890975255555137 -0.26393245313668800556 -0.74524993746176793064 0.74950609552947777825 -0.35242804503303598596;-0.68172727611886108079 -0.31546309388520082928 0.062007688625453916131 0.40869198891062419321 -0.39324188243882324256 0.17016229871876645263 -0.95097273102476520545 -0.80515358848275819792 -0.90795163541957235598 0.32664880535974122333 0.87412994018662248941 -0.1259620969780431976;0.30816133097498304982 0.84280112462993284073 -0.79371887146117081624 0.3950834153626182621 -0.87019085023355913222 0.47187100301168138916 -0.68992272087229111754 0.29001584275208291963 0.30728531191952168644 0.19542088785537944928 0.28460388174778999959 0.88758090791342958426;-0.48784973529705394357 0.72905984245312771552 0.64486412655521840875 0.24487040461709519423 0.94768356347223858815 0.84538516897808446693 0.31940528114990579533 -0.33476055364643408918 -0.16873718650184502121 -0.22198080114137497265 -0.78348295432237324842 -0.87957224746943041271;0.45068281574433294301 0.03132473473618104659 0.55769342609440797354 -0.85415364112995362245 -0.15238365658801983349 0.42039913272526913124 -0.60329047755742248871 0.3378434687553087401 0.79074195038321992701 -0.7033144315015510406 -0.96141836517221357372 0.96904882667989444833;0.38912897329294826587 0.23445427845513402976 0.40697497273156874042 -0.8245353562253535662 -0.059105203602993129641 -0.99230245683864048978 0.73148020936205515596 0.48369881013225751731 -0.20107766664701531845 -0.95545218015953081725 0.32983046812291094696 -0.62594212747300270738;0.62598520530260493011 0.23626132384824360955 -0.9653498190705313009 -0.44210454910058827327 0.33704145457676865094 0.9015653449277893916 -1.1106527292755581371 0.19177319609225290664 0.2771151758730299175 -0.19486487164461652188 0.44088857213092580434 0.49340406926701196877;-0.2479188759601290426 -0.6745286074203697968 0.40261511008137307321 0.065588485364257112509 0.31587977402109845837 0.50408473945495857471 1.2127044554694927925 0.55592863868379516212 -0.78570136264874701482 -0.79886050454339252447 -0.37991099331575545195 0.23135978550997290948;-0.98430654717913534935 -0.48100314593677229169 0.060792235358450741334 0.37032272472418914511 0.34723670709102399945 1.1791880994423002971 0.088613258594995220063 -0.63727038224600796035 -0.29023956561269720344 0.55258013509986392275 -0.58172311896379391705 0.40803194303361378648;-0.84371406137973536943 -0.086233673119635159687 1.8952757195283651548 -0.5175665184444123712 0.69817671919651491663 0.81114369338977021506 0.74670518882135628047 0.7698712610829129277 -0.72626290654319125561 -0.38328948639707749457 1.2498813325014246356 -0.76419274638276868394;0.96209923399834595958 -0.5491143662265720593 0.33813959972217561001 0.62736232851398354704 0.33208561538549319359 -0.1457049004418403404 0.86330173577284852193 0.97044447108905518284 0.49716030333926014562 0.68924035297035257663 -0.29803772529597644114 0.158305793206038381;-0.82889617103278245835 0.74128518153506439692 0.56005931261601227256 0.47898238434014106524 0.092174493782879951542 0.66605629975596802872 -0.48636789253941786759 0.73354704824854410905 0.76116454714300973983 0.46857745181030380222 0.28024369806993199017 0.75458771339215124918;0.33667317928235612756 -0.54398032353590830557 -0.50460279818219400116 1.041224382199186671 0.78726352891393835964 -0.71786344296613247007 -0.27998023686247297537 -0.90183498420995389377 -0.35588005312417769765 0.14284501375151517633 -0.62533431348292989327 -0.50827330981826279732;0.042440568272498140068 -0.72766332576809134025 -0.2102856224333490287 0.084142886671892500039 -0.73562286793505338167 0.0050724298363980756255 -0.026242952843138666469 -0.36609262147543675248 0.49809511567733172344 -0.87892624007682140785 -0.78643632742697433535 -1.0509915970140124575;0.83346709154703102485 -0.51868020352413835017 0.68507977617668514014 -0.34701113728686538984 -0.43227666260040792379 0.9565551910877145847 0.27434094371766742926 -0.21209795340676595998 -0.28709079286821836963 0.7877405215447942366 0.66532949519752082601 0.70963975935127043826;-0.61658564333866083818 -0.65254624892821211368 -0.27514334121892991547 -1.0474280541322784632 -0.74225272663209651558 0.3311663931639446945 0.94737240204880723837 0.55802370084032892894 0.13264965631772310251 -0.47323593861348017819 0.74599043656491004217 0.10909437999729638957;0.030738443484008101669 -0.13769207543741393551 -0.69819167057268183285 0.21895971690874069249 -0.98274336097736614271 0.4723451095911512243 -1.0230789086225473561 0.2035744468931308393 0.57783945637075306845 0.80294295109193858373 0.38154857304121830852 -0.50463600530651486764;-0.90723906846115676128 -0.52207326904296347259 -0.96006483747216109226 0.72059639345107195929 -0.76324382703500914804 -0.12327480145670875744 -0.47698273327413454048 0.6596343280685120769 0.042872074096973918078 -0.61005730508795064093 -1.2500338506210713074 0.24313671444826828738;1.1475700674793354317 1.0145186540757276106 -0.23978430734476965935 -0.18504258801953318847 -0.13080427986486573011 0.19768811836482652611 -0.35895084879110183973 -0.30407728720400384326 -0.38738875803888384031 -0.28934043342985193981 -0.78688927658342777693 -0.94629981933787432613;-1.217116899318258838 -0.14899442445915739297 0.36613464917049437508 -0.73364968951965459087 -0.72024947051076337878 -1.036627448081523184 -0.69954081844930626755 -0.60359429422012478295 -0.61692955238051561118 -0.83774696907501955412 -1.0043662174730036973 0.45073084614415664939;0.79211963535914786672 -0.80872764756548631837 0.77021405950005905616 -0.58799446689092915719 0.53846198780258014427 0.28568773171043249093 -0.079725996600848517137 -1.0266866936676035671 -0.16319535497443435346 0.36192443780338479087 -0.31088269429646864239 -0.59142133662849027953;0.50321874021868251425 0.84333267901312014558 -1.4983472416939238592 -0.50501220762305942813 -0.12832023944959536355 -1.3347234759055679465 -0.32219905561537948158 0.38427427100249583747 -0.30338567285539363994 -0.60036029228763643228 -0.96200522845619074186 0.067524536170795249057;0.78512060278895656751 0.86393081552969297476 0.0056058538458341458308 -0.48989720964563771011 0.66518115175628278468 0.44978353135475585001 -0.50691391601028068514 -0.5199194632810862915 -0.23214342385403780034 -0.97524737737876154853 0.90481391967351321171 -0.81598839858924465673;-1.0754233608419541124 -0.16399369190112572658 -0.27476081434450166929 -0.027393988363857649931 0.68032443887554872042 -0.094410446730408548177 -0.8438394970474643042 -0.34800787284094225615 -0.009028356271149496487 0.59813864298948860032 -1.4713593130895510352 -0.075917995377688188285;-0.13471278871628067364 -0.7903613910562387046 -0.1508612904372504393 0.053327680605001009928 0.89382527820024693099 0.4024926394182958278 0.75909564847676658239 0.12067891300204415528 0.47991066464458786989 -0.31391693134873327464 -1.0478752574128975539 -0.77448833055382249047;-0.45599651314731198815 -0.71864281407825381098 0.96395697862739504469 -0.3590206753431344211 -0.59256359892757504149 1.2882161272553058762 0.90863118971103995491 -0.49285376566766603279 -0.076411252025531520293 0.38012106735544165526 0.60784229361072394937 0.67801629761039394761;0.60571713505392865695 -0.15536031138561343101 0.36309193503483250254 0.7770539437015928641 -0.39881282328547074112 1.5061736049277456573 -0.00050337948082225200154 0.30540835833018381562 -0.041648692610304571815 -0.31496190260640966052 0.98924775980607171366 -1.0037984919463729394;-0.0033401539679142298878 0.22549425599711947488 -0.19683505188172920053 -0.08019532748322229232 0.63575196722461124743 0.88562005772399265968 1.1101678113777664336 0.052422418085071129101 -0.8726946021850285895 0.32223355248729473876 -0.29320883242942219482 0.76568943459423266518;0.69676014218144288748 -0.41025460515321826582 -0.90075435708076689867 1.1237235000614003155 -1.1284923012288146094 -0.47745510232245197413 -0.8961757906925521544 -0.79095409858018550509 -0.9600065539333469955 -0.7634822006100672187 -1.1151206825823540836 -0.030701962446148502867;-0.66055738528173635338 0.27682110577390467432 -0.81772628741717912071 0.22605718497371804498 0.57565255024536943207 1.4369030323500200375 0.3916480238682186199 0.5432577797468307601 -0.25540154997556585581 0.83456485934355828515 0.13157518261703973761 -1.134888435205638757;-0.49062135512915155955 0.42120186903471751316 0.94638892570299071316 0.95810286687876200507 -0.020849704501185901961 0.069524521257251808981 0.45295670074512495162 -0.84673176165030372697 -0.43141228376278800694 0.66415491324045183852 -0.73328121291566050743 -0.23800719616168694581;-0.59236015735089753154 -0.6141904504668121989 -0.70370900258168811447 -0.53989947790037540187 0.556679380909401611 -1.2630833408446269228 -0.045145327050840559913 -0.40765270058817926202 0.2679618748804958317 0.51962441131558301244 -0.38591135638861989721 0.48308649976327738829;-0.61035001758032558783 -0.63878538440960108691 -0.58780931795135360485 0.29546992183102110952 0.14441237798027983796 -0.48368526039865711308 -0.76842266813158077721 -0.46201625364607074031 0.91741355351596631795 0.62278228921937461848 0.75466980435248287584 0.39308319754974940796;1.0196072667907407627 -0.50803321980516358281 -0.26339797022581168395 -0.56638938805204908089 -0.14704580269758391053 1.1078600356240533298 0.18178005652818685078 0.10082864725419615759 1.2512106811348877589 -0.34113260617621349313 0.39366678896450812974 -0.017598240731079232979;0.52396170634020433621 -0.56854325226809732108 -1.135667134622756036 0.61089061497369412379 -0.12963284699890786911 -0.7174302062019395354 -0.34838841810114473674 -1.0896323390145983279 -0.22799194569378850028 0.32046826738472899976 -1.5808845404908464793 0.49746648663133746782;0.11929258742991583064 -0.19646176105100421339 -0.051693599280142984997 0.52204477303436724878 0.65075343941032215422 0.92045595973657645672 -0.96057723499409175538 -0.25766821388470123599 -0.6771724190652435027 0.19535513953820066169 -0.26995056396180111546 1.0172460870636843566;-0.7248042872620651389 0.01309385726510345696 -0.32418158915867167913 -0.83337477343131038943 0.031938691897804669106 -0.57319179819963050893 -0.52988456118531357397 -0.77156578205993631148 0.51027563655900909367 0.057534547425770424245 -0.84479036318397726646 -0.80389361859677599398;0.51255554010124870778 -0.76479035411208617923 0.82737953201448888318 -0.47040715772554764218 -0.029672363530446811686 0.38887381175185342652 0.72717523742205325554 -0.85045612719742369467 0.60243954893497109193 -0.49749876264505493717 0.28863979708500075994 -0.33317522894144419032;0.13484521490752132689 -0.50685692423519046468 0.75738925373559762289 -0.56041357477783659835 -0.80033042683612187762 0.14437254013864320168 -0.56503523149664725 0.56591238554871703403 0.47227400884909803702 -0.52687430128340506652 0.023742595960292295354 -0.74212029947833513255;-0.38594100771665174054 0.68000477822650784443 -0.77352132441595544687 0.26667813052892713754 0.60228601295398875859 -0.45024804369911358704 -0.726690625002158197 -0.44833001870342126249 0.6124953918601823144 -0.12422974428103294997 1.2387834071782022338 -0.70168170920495376297;0.051619034656846154996 -0.95525425217036374903 0.46879770160402745027 0.69594650057878038041 -0.51040423927572198259 0.19014489128050826583 -0.89509472586002292172 0.20961534743492091226 -0.78336203342041332842 -0.5311404070634719865 0.56994886124917876202 0.4171597102335507512;-0.38927289200013864834 0.92861661702771114424 -0.63609847539186936682 -0.29877290898268993313 -1.002498610421062919 -0.33549765098137734887 -0.18958565601279783741 0.98336026209918003804 0.40822650772613616743 0.73721730511071581482 -0.017566118901272013975 0.67472419651311654754;-0.56140431457576700502 0.37531527555763688486 -0.091347154576767633505 0.4874253474271372788 0.25745534924084856332 -0.99608672298453493354 -1.0092746667872307675 -0.07733220945930324719 -0.11809553379744866519 0.86532957105162422451 0.3134314313798396423 0.59705178243596490617;-0.53255467179878768214 -0.03897132404110317111 0.15827041450064216477 0.38564208010529632542 -0.61616352233341731282 -0.042465382733629118694 0.94245164445429452371 0.46686489268479280934 -0.64573777956474553985 -1.0454495193613941861 -0.83626521825899435836 0.12392400993260931086;-0.71336716691188295503 0.14765932990105906653 0.82492506694011968893 -0.92312268466549851631 -0.10661807074192337919 -0.57559120409408248698 -0.56940021820440389622 0.48201180051382597203 -0.75388575589772044427 0.066485836211510218607 -0.20435223220381140696 -0.79430285575081194249;-0.62375636806797019052 -0.44026116339562471058 -0.0379442922501049551 0.17866564705821705306 0.65967117673508302023 -0.38379707073664343087 -1.040686606184089591 -0.1377736164486934034 0.7152213516494795309 -0.85428660690399960131 0.937507572440151149 0.61007617534706970464;-0.77267873232748418566 -0.056346827583487205104 1.0003187070410322068 -0.2497887085063860424 -0.060379924938648653343 -0.37163831754091980475 -0.34416961079552782499 0.28489807538015737842 -0.62111988829380926358 0.59110871314246382635 1.188840331266023842 0.745425991572854163;-0.42642762611066387102 0.98112146220527540752 -0.33372640403781461682 0.75948055438417250151 0.93920171929380502629 -0.12689670705142425122 -0.22688322523044096579 -0.80357325982604888015 -0.5224060158874772597 0.91689598877407552102 0.84233393047789473229 -0.38676281587679989249;-0.8807450747783189815 0.091212758680119174204 0.33637440870340695742 -0.93716723995337747333 -0.2361735715040051975 -0.64159030785870663216 -0.8289550253426606341 0.81863099429635866056 0.30319535723624313484 -0.86051076586565922177 0.14001696292171192382 0.16333625839306603611;0.66298294010658909148 0.046466409568511835015 0.28247123583577510297 -0.061981544158364147712 0.37632629606215994844 -0.74124571473559319745 0.91244811264628489234 -0.5605379480090262323 0.72018061198520699762 0.78583147701510425165 -0.16068340611598674883 0.82236976791580862489;1.0013978916732266811 -0.58806705507879852846 0.10450565472819317581 -0.1698935214197399568 0.43288916092445600681 0.28502769708572217588 -0.36324305311549676123 -0.50167134954818592973 0.035108792130210238203 -1.0583007380779849704 0.93437105621927074584 0.43759415227878079024;-0.015031970033157515329 -0.031899451038261132652 0.55326498708086269129 -0.109196939015667141 -0.16422540653523470811 -0.60717858765897703144 -0.55980557500262451143 0.82591923241118880838 0.55933098193056940417 0.50783643361763508572 -1.0442323223405423072 0.92819372975468206199;-0.017895544470657779451 0.28518725335673483778 0.38681675094186096509 0.62090689051550296274 -1.1048857934380285073 0.088842582648681112101 -1.0069062098790586557 -0.026831491515179436286 -0.79441683707131638403 0.65081126217732165884 0.52868497672257852571 -0.16273639141653473139;-0.57744736218911818515 0.5165995025494528603 -0.91257917609809824366 -0.45517708343889506928 -0.30238251490091222484 0.65798667736097127268 -0.62217343863926410918 0.66239033884874753966 1.2056667888669656552 0.076786632282475481004 0.48638470710115988549 0.023375430592773676491;0.88112891875988585966 -0.22942104280304190245 -0.81674991462382706686 0.62478002896427642376 -0.16955416460209063456 -0.0061304448679467011402 -0.99651860726797381052 -0.22777227479741687932 0.088343325363510291637 0.84264822850544185417 0.72425180151945212081 0.13029750978482146362;-0.33335072463141651733 -0.33920887699855489794 1.2775003580396715464 -0.073421511795104407727 -0.5876690142812538431 0.091673977024155944848 0.013454488929007619655 -0.58051673123859171 0.459662682782296661 1.0200465054769889406 -0.26066112487973758238 -0.59170244313322850616;-0.78515554442800405965 0.84000037048782905114 -0.23655155306418895744 -0.97805071701156232056 -0.17033683410494523947 0.3492790419648111877 0.68018569148629592913 -0.67641684696668413768 -0.6387003517024825161 0.1870452905598493365 0.92951768481716245951 0.42506942479947579239;0.51797931098956118134 -0.85096078433932220708 -0.8586569345417981447 -0.59680352311235118634 0.59109009135821788394 -0.69284588568137894793 0.24252799761373486365 0.31968839531314857672 0.56923220706776600508 -0.6666808729231125108 0.61647126734005530668 0.0045147332039798104136;-0.34889216300221409517 1.0196649610228252225 0.1418862936917940909 0.59077222552811159417 -0.20699855078165352307 -0.050922129867954822602 -1.0877029308488084247 -0.19894980002414691667 0.66337634974188952608 -0.77810921730227899928 -0.47515890637967828081 0.47291719687565075825;-0.38593372929360930668 0.77073717642232209002 0.78114422965985275127 -0.064167244606835024956 0.61994559976884200392 0.5497322427537408851 -0.91036468295035577469 -0.063857236199468217497 -0.80133050376851500118 -0.64300677313958543024 -0.15496079739912047013 -0.36561353374919369763];

% Layer 2
b2 = -0.01042635985084098757;
LW2_1 = [-0.35008883430504389445 -0.0037818581328665301991 -0.12836024510739044158 -0.70177461819951991728 0.25344450674420493375 0.16105826609596313181 -0.40472012867435142036 -1.7707104043463510745 0.038170361858052052895 -0.22705631001139101044 0.33694110442153635265 0.52331445999110848266 -0.26359724655672883697 0.24533226864153653834 2.549250512451638695 -0.047552080803946010501 0.36785415682960159733 0.3542862887126956295 0.01447082897221082555 -1.7778582644925156053 -0.530303963263980771 -0.45846675906988143545 -0.073337636950142531811 0.21611048679644795367 0.039919254537180370868 -0.25103999456925607525 0.21113184667639803282 0.31030286382942096068 0.3265170416503986317 -0.062623602031497388465 0.58375323158056013906 0.37588082273135120515 0.37641330536007877594 0.23505594799582713028 -0.15981305984919827456 2.4181048738635997353 -0.59377427886569078552 -0.14970488373690793438 -0.15761554414230471988 0.68822176979692917254 -0.5894754281613419078 -0.22917215164276447115 0.022921860471441221629 -0.66094936668226844656 0.70496834590426782352 0.58905131892502793356 -0.087826378670664950743 -0.22252473244652010154 -0.23802226597441433764 -2.42810702202089157 0.2508617822217088511 0.030109625178827717495 1.1143426964233149601 0.29197456883835420927 -0.65799394233619623584 -1.2383012143776113145 0.041616581770722367584 1.4288524761452254808 -0.25645199152322545322 1.6608693556219873422 0.1076723301561321039 2.2266018775614697667 -1.1353779288440941642 0.767381998927142428 0.15881349645433356921 -1.741966311335860329 -1.2378247139866342952 -1.0492936887850203842 2.8143584014399736226 -1.6363124180224966064 0.55893570683840376745 0.34930331963589283939 -0.85139838687573943243 -0.70864620463331517985 2.078538783368616194 0.26593855813694328161 0.22437612993858163657 -0.32948562868774455836 0.57672276948872513991 -1.3775297621715072438 0.17189657360431359612 0.77218202501949706473 0.11657257303138156279 -0.35562044721404695302 0.21167599918358928623 -1.2785093433546630415 -0.60834160193268904671 -1.312724947051933988 0.4862344265198741966 -0.069024948755367299125 -0.34238440020795130048 -0.10095570996810247777 -0.066017081230076934961 -0.4492741934810390303 0.058723222422601695225 -0.088583027753631610191 -1.6757026277325899333 -0.039797600331388585659 0.29775957712497053143 0.33588855894658303791];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
    X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = logsig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Output 1
    Y{1,ts} = a2;
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX
    Y = cell2mat(Y);
end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
y = x(settings.keep,:);
end

% Sigmoid Positive Transfer Function
function a = logsig_apply(n,~)
a = 1 ./ (1 + exp(-n));
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end
